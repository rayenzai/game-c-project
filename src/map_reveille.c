#include <SDL2/SDL.h>
#include <SDL2/SDL_ttf.h>
#include <SDL2/SDL_mixer.h>
#include "game.h"
#include "sons.h"
#include "map.h"
#include "fin_jeu.h"
#include <stdio.h>
#include <math.h> 


int maps_patern_reveille[NB_LEVELS][MAP_HEIGHT][MAP_WIDTH] = {
 {      //carte 1 (chambre)
        
    {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446}, 
    {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446}, 
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446}, 
    {446, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 445, 444, 446},
    {446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446}
  
    },
    // Couloir niveau 1
    {
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 604, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 604, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446}
    }, 
    // CARTE 3 : HALL (Niveau 2)
    {
        {  2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2 },
        {  2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2 },
        {  2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        { 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548 },
        { 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        {  2,   2,   2, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548, 548,   2,   2 },
        {  2,   2,   2,   2,   2,   2,   2,   2, 548, 548, 548, 548,   2,   2,   2,   2,   2,   2,   2,   2 }
     },
    // CARTE 4 CUISINE (Niveau 3)
    {       
        {446, 446, 446, 446, 446, 446, 446, 446, 561, 561, 561, 561, 446, 446, 446, 446, 446, 446, 446, 446}, // Trou en haut
        {446, 446, 446, 446, 446, 446, 446, 446, 561, 561, 561, 561, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 446, 446, 446, 446, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 446, 446},
        {446, 446, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 446, 446},
        {446, 446, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 446, 446},
        {446, 446, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 604, 446, 446},
        {446, 446, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 446, 446},
        {446, 446, 561, 561, 561, 562, 568, 568, 568, 567, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561},
        {446, 446, 561, 561, 561, 564, 568, 568, 568, 566, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561},
        {446, 446, 575, 561, 561, 565, 568, 568, 568, 563, 561, 561, 561, 561, 561, 561, 561, 561, 446, 446},
        {446, 446, 575, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 604, 446, 446},
        {446, 446, 573, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 604, 446, 446},
        {446, 446, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 561, 604, 446, 446}, // Bas fermé
        {446, 446, 561, 561, 561, 561, 561, 573, 573, 561, 561, 561, 561, 561, 561, 561, 561, 561, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446}
    },
    // CARTE 5 SALLE A MANGER (Niveau 4 - dernière du bloc précédent)
    {    
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446}, // Trou en haut
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 281, 277, 282, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 279, 277, 280, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 279, 277, 280, 444, 444, 444, 444, 444, 444, 444, 444},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 279, 277, 280, 444, 444, 444, 444, 444, 444, 444, 444},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 279, 277, 280, 444, 444, 444, 444, 444, 444, 444, 444},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 279, 277, 280, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 276, 277, 278, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446}, // Bas fermé
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 444, 444, 444, 444, 446, 446, 446, 446, 446, 446, 446, 446}
    },
       {      // Jardin Niveau 5
        {446, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642}, 
        {446, 641, 667, 667, 667, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 642}, 
        {446, 641, 667, 667, 667, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 642},
        {446, 641, 667, 667, 667, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 642},
        {446, 641, 667, 667, 667, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 642},
        {446, 641, 667, 667, 667, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 642},
        {446, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 667, 641, 641, 641, 641, 641, 641, 642},
        {641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 667, 667, 667, 667, 641, 641, 641, 641, 641, 642},
        {641, 641, 641, 641, 641, 641, 641, 641, 641, 641, 667, 667, 667, 667, 667, 641, 667, 667, 641, 642},
        {446, 641, 641, 641, 641, 641, 641, 641, 667, 641, 667, 667, 667, 667, 667, 641, 667, 667, 641, 642},
        {446, 641, 641, 641, 641, 641, 641, 641, 667, 641, 641, 667, 667, 667, 667, 667, 667, 667, 641, 642},
        {446, 667, 641, 667, 641, 641, 667, 667, 641, 641, 641, 667, 667, 667, 667, 667, 667, 667, 641, 642},
        {446, 641, 667, 667, 667, 667, 667, 641, 641, 641, 641, 641, 667, 667, 667, 667, 641, 667, 641, 642}, 
        {446, 641, 667, 667, 667, 667, 641, 641, 641, 641, 641, 641, 641, 667, 641, 667, 641, 641, 641, 642},
        {446, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642, 642}  
    },
    // Chambre des parents (index 6)
    {    
        {2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2}, // Trou en haut
        {2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
        {2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2}, // Bas fermé
        {2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
        {2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2}
    },
    // Salon (index 7)
    {    
        {446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446}, // Trou en haut
        {446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446}, // Bas fermé
        {446, 446, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 444, 446, 446},
        {446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446, 446}
    },
    // Tente (index 8)
    {
        {50, 50, 50, 50, 50, 50,  50,  50,  50,  50,  50,  50,  50,  50,  50, 50, 50, 50, 50, 50}, // Marge Haut
        {50, 50, 50, 50, 50, 50,  50,  50,  50,  50,  50,  50,  50,  50,  50, 50, 50, 50, 50, 50}, 
        {50, 50, 50, 50, 50, 50,  50,  50,  50,  50,  50,  50,  50,  50,  50, 50, 50, 50, 50, 50},
        {50, 50, 50, 50, 50, 560, 560, 560, 560, 560, 560, 560, 560, 560, 50, 50, 50, 50, 50, 50}, // Début Rectangle
        {50, 50, 50, 50, 50, 560, 445, 520, 521, 522, 523, 524, 445, 560, 50, 50, 50, 50, 50, 50}, 
        {50, 50, 50, 50, 50, 560, 445, 515, 516, 517, 518, 519, 445, 560, 50, 50, 50, 50, 50, 50},
        {50, 50, 50, 50, 50, 444, 445, 510, 511, 512, 513, 514, 445, 560, 50, 50, 50, 50, 50, 50}, 
        {50, 50, 50, 50, 50, 444, 445, 515, 516, 517, 518, 519, 445, 560, 50, 50, 50, 50, 50, 50}, 
        {50, 50, 50, 50, 50, 444, 445, 510, 511, 512, 513, 514, 445, 560, 50, 50, 50, 50, 50, 50}, 
        {50, 50, 50, 50, 50, 560, 445, 505, 506, 507, 508, 509, 445, 560, 50, 50, 50, 50, 50, 50},
        {50, 50, 50, 50, 50, 560, 445, 444, 445, 444, 445, 444, 445, 560, 50, 50, 50, 50, 50, 50},
        {50, 50, 50, 50, 50, 560, 560, 560, 560, 560, 560, 560, 560, 560, 50, 50, 50, 50, 50, 50}, // Fin Rectangle
        {50, 50, 50, 50, 50, 50,  50,  50,  50,  50,  50,  50,  50,  50,  50, 50, 50, 50, 50, 50}, // Marge Bas
        {50, 50, 50, 50, 50, 50,  50,  50,  50,  50,  50,  50,  50,  50,  50, 50, 50, 50, 50, 50}, 
        {50, 50, 50, 50, 50, 50,  50,  50,  50,  50,  50,  50,  50,  50,  50, 50, 50, 50, 50, 50}
    },
};